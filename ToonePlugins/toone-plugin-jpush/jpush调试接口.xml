# 极光推送前端测试代码
```js


var getRegistrationID = function () {
    window.plugins.jPushPlugin.getRegistrationID(onGetRegistrationID);
};

var onGetRegistrationID = function (data) {
    try {
        console.log("JPushPlugin:registrationID is " + data);

        if (data.length == 0) {
            var t1 = window.setTimeout(getRegistrationID, 1000);
        }
        console.log("onGetRegistrationID = " + data);
    } catch (exception) {
        console.log(exception);
    }
};

var onTagsWithAlias = function (event) {
    try {
        console.log("onTagsWithAlias");
        var result = "result code:" + event.resultCode + " ";
        result += "tags:" + event.tags + " ";
        result += "alias:" + event.alias + " ";
        console.log("onTagsWithAlias = " + result);
    } catch (exception) {
        console.log(exception)
    }
};

var onOpenNotification = function (event) {
    try {
        var alertContent;
        if (device.platform == "Android") {
            alertContent = event.alert;
        } else {
            alertContent = event.aps.alert;
        }
        console.log("open Notification:" + alertContent);
    } catch (exception) {
        console.log("JPushPlugin:onOpenNotification" + exception);
    }
};

var onReceiveNotification = function (event) {
    try {
        var alertContent;
        if (device.platform == "Android") {
            alertContent = event.alert;
        } else {
            alertContent = event.aps.alert;
        }
        console.log("onReceiveNotification = " + alertContent);
    } catch (exception) {
        console.log(exception)
    }
};

var onReceiveMessage = function (event) {
    try {
        var message;
        if (device.platform == "Android") {
            message = event.message;
        } else {
            message = event.content;
        }
        console.log("onReceiveMessage = " + message);
    } catch (exception) {
        console.log("JPushPlugin:onReceiveMessage-->" + exception);
    }
};

var initJPush = function () {
    try {
        window.plugins.jPushPlugin.init();
        window.plugins.jPushPlugin.setDebugMode(true);
        window.setTimeout(getRegistrationID, 1000);

        if (device.platform != "Android") {
            window.plugins.jPushPlugin.setApplicationIconBadgeNumber(0);
        }
    } catch (exception) {
        console.log(exception);
    }

//    window.plugins.jPushPlugin.setTags({
//            sequence: 1, tags: ['tag1', 'tag2']
//        },
//        function (result) {
//            // console.log("tag1 = " + result.tags)
//        },
//        function (error) {
//            console.log(error.code)
//        });
//
//    window.plugins.jPushPlugin.getAllTags({
//            sequence: 2
//        },
//        function (result) {
//            // console.log("tag2 = " + result.tags)
//        },
//        function (error) {
//            console.log(error.code)
//        });

    // window.plugins.jPushPlugin.cleanTags({
    //         sequence: 2
    //     },
    //     function (result) {
    //         console.log("sequence = " + result.sequence)
    //     },
    //     function (error) {
    //         console.log(error.code)
    //     });

//    window.plugins.jPushPlugin.setAlias({
//            sequence: 1, alias: "alias"
//        },
//        function (result) {
//            // console.log("alias1 = " + result.alias)
//        },
//        function (error) {
//            console.log(error.code)
//        });
//
//    window.plugins.jPushPlugin.getAlias({
//            sequence: 2
//        },
//        function (result) {
//            // console.log("alias2 = " + JSON.stringify(result))
//        },
//        function (error) {
//            console.log(error.code)
//        });

    // window.plugins.jPushPlugin.deleteAlias({
    //         sequence: 3
    //     },
    //     function (result) {
    //         console.log("alias3 = " + JSON.stringify(result))
    //     }, function (error) {
    //         console.log(error.code)
    //     })

    //       document.addEventListener("jpush.receiveRegistrationId", function (event) {
    //            console.log("receiveRegistrationId" + JSON.stringify(event));
    //        }, false);
    //        document.addEventListener("jpush.openNotification", onOpenNotification, false);
    //        document.addEventListener("jpush.receiveNotification", onReceiveNotification, false);
    //        document.addEventListener("jpush.receiveMessage", onReceiveMessage, false);
};

```